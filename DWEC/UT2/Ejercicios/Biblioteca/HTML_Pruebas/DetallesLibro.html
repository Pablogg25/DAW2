<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalles libros</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>
    <section class="libro-detalle">
      <h2>DETALLES LIBRO</h2>
      <table class="detalle-table data-libro-id=${this.libroId}">
        <tbody>
          <tr>
            <th>Libro ID</th>
            <td>${this.libroId}</td>
          </tr>
          <tr>
            <th>Título</th>
            <td>${this.titulo}</td>
          </tr>
          <tr>
            <th>ISBN</th>
            <td>${this.ISBN || '-'}</td>
          </tr>
          <tr>
            <th>Autor ID</th>
            <td>${this.autorId}</td>
          </tr>
          <tr>
            <th>Biblioteca</th>
            <td>${bibliotecaText}</td>
          </tr>
          <tr>
            <th>Disponible</th>
            <td>${disponible}</td>
          </tr>
          <tr>
            <th>Total préstamos</th>
            <td>${this.prestamos.length}</td>
          </tr>
        </tbody>
      </table>
      <br>
      <div class="acciones">
        <button data-action="libro-editar" data-libro-id="${this.libroId}" class="btn">Editar</button>
        <button data-action="libro-borrar" data-libro-id="${this.libroId}" class="btn danger">Borrar</button>
        <button data-action="libro-listar-prestamos" data-libro-id="${this.libroId}" class="btn">Ver préstamos</button>
        <button data-action="libro-crear-prestamo" data-libro-id="${this.libroId}" class="btn" ${this.estaDisponible ? '' : 'disabled'}>Crear préstamo</button>
        <button data-action="libro-devolver-prestamo" data-libro-id="${this.libroId}" class="btn" ${this.estaDisponible ? 'disabled' : ''}>Devolver préstamo</button>
      </div>
<br>
      <div class="prestamos-preview" id="prestamos-preview-${this.libroId}">
        <!-- Aquí el gestor puede inyectar listadoPrestamos o el mensaje: "No hay préstamos" -->
      </div>
    </section>
  </body>
</html>
